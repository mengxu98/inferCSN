print(p)
}
return(auroc)
}
#' auprc.curve
#'  auprc
#' @param pred pred
#' @param obs obs
#' @param plot plot
#'
#' @return auprc
#' @export
#'
auprc.curve <- function(pred, obs, plot = plot) {
predict <- AUC(obs = obs, pred = pred, curve = "PR", interval = 0.001, plot = FALSE) #, simplif = TRUE
# predict <- AUC(obs = obs, pred = pred, trapezoid = "PR", interval = 0.001, plot = FALSE) #, simplif = TRUE
auprc <- predict$AUC
auprc_data <- data.frame(
precision = predict$thresholds$precision,
recall = predict$thresholds$sensitivity,
auprc = auprc
)
if (plot) {
p <- ggplot() +
geom_line(data = auprc_data, aes(x = recall, y = precision), color = "#f97e11", size = 1) +
geom_line(aes(x = c(0, 1), y = c(0, 1)), color = "grey", size = 1, linetype = 6) +
theme_bw() +
annotate("text",
x = .2, y = .9,
label = paste("AUPRC =", round(auprc_data$auprc, 3)), color = "#f97e11"
) +
scale_x_continuous(name = "Recall") +
scale_y_continuous(name = "Precision") +
ggtitle("Precision-Recall Curve")
print(p)
}
return(auprc)
}
auc <- auc.calculate(weightList, exampleDataGroundTruth)
library("ROCR")
library("modEvA")
library("ggplot2")
auc <- auc.calculate(weightList, exampleDataGroundTruth)
library(devtools)
document()
rm(list = c("auc.calculate", "auprc.curve", "auroc.curve"))
document()
auc <- auc.calculate(weightList, exampleDataGroundTruth)
check()
auc <- auc.calculate(weightList, exampleDataGroundTruth)
document()
auc <- auc.calculate(weightList, exampleDataGroundTruth)
check()
require(L0Learn)
require(L0Learn1)
devtools::document()
warnings()
setwd("G:/Research/Github/inferCSN/R")
library(devtools)
document()
check()
check()
document()
check()
use_mit_license("MengXu")
document()
check()
stop("Please ensure provide an object!")
data("exampleDataMatrix")
data("exampleDataGroundTruth")
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
data("exampleDataMatrix")
library(inferCSN)
data("exampleDataGroundTruth")
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
weightList <- inferCSN(exampleDataMatrix, cores = 1)
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
weightList <- inferCSN(exampleDataMatrix, cores = 1)
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
devtools::document()
pkgload::dev_help('data.processing')
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
library(inferCSN)
devtools::document()
devtools::document()
library(inferCSN)
data("exampleDataMatrix")
data("exampleDataGroundTruth")
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, cores = 2)
weightList <- inferCSN(exampleDataMatrix, cores = 1)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
devtools::document()
devtools::document()
devtools::check()
devtools::document()
weightList <- inferCSN(exampleDataMatrix, cores = 2)
weightList <- inferCSN(exampleDataMatrix, cores = 1)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
devtools::check()
weightList <- inferCSN(exampleDataMatrix, cores = 2)
weightList <- inferCSN(exampleDataMatrix, targets = colnames(exampleDataMatrix),cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
weightList <- inferCSN(exampleDataMatrix, targets = colnames(exampleDataMatrix)[1:5],cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix)[1:5],cores = 2)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix),cores = 2)
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix),cores = 2)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:11] ,targets = colnames(exampleDataMatrix),cores = 2)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix)[1:5],cores = 2)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix)[1:5],cores = 1,verbose = T)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix),cores = 1,verbose = T)
devtools::document()
devtools::document()
devtools::check()
weightList <- inferCSN(exampleDataMatrix, cores = 2)
devtools::document()
devtools::check()
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix),cores = 1,verbose = T)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix),cores = 2,verbose = T)
weightList <- inferCSN(exampleDataMatrix,regulators = colnames(exampleDataMatrix)[6:10] ,targets = colnames(exampleDataMatrix)[11:15],cores = 2,verbose = T)
devtools::document()
data("exampleDataMatrix")
weightList <- inferCSN(exampleDataMatrix)
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix)
a <- array_tree(weightList, margin =
NULL)
a <- purrr::array_tree(weightList, margin =
NULL)
n <- colnames(exampleDataMatrix)
xxx <- function(x){
weightList1 <- weightList[which(weightList$regulator == x),]
}
purrr::modify_at(n,xxx )
weightList$regulator
map_dfr(n,xxx)
purrr::map_dfr(n,xxx)
purrr::modify_at(n[1:3],xxx )
[1:3]
n[1:3]
n <- colnames(exampleDataMatrix)[1:3]
purrr::modify_at(n,xxx )
n <- colnames(exampleDataMatrix)
purrr::map_dfr(n,xxx)
n <- colnames(exampleDataMatrix)[1:3]
purrr::map_dfr(n,xxx)
aa <- purrr::map_dfr(n,xxx)
n <- colnames(exampleDataMatrix)[1:5]
aa <- purrr::map_dfr(n,xxx)
xxx <- function(x){
weight <- weightList[which(weightList$regulator == x),]
}
n <- colnames(exampleDataMatrix)[1:10]
aa <- purrr::map_dfr(n,xxx)
devtools::document()
library(inferCSN)
devtools::document()
library(inferCSN)
aa <- purrr::map_dfr(n,function(x){
weight <- weightList[which(weightList$regulator == x), ]
})
aa <- purrr::map_dfr(n[1:9],function(x){
weight <- weightList[which(weightList$regulator == x), ]
})
usethis::use_package("purrr")
devtools::document()
devtools::document()
pkgload::dev_help('inferCSN')
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
devtools::document()
devtools::document()
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
if (penalty %out% c("L0", "L0L2")) {
message(paste("Using", penalty, "penalty regression......"))
} else {
stop(paste("Note: inferCSN does not support", penalty, "penalty regression......\n",
"Please set penalty item as 'L0' or 'L0L2'......\n"))
}
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L1")
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L2")
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,penalty = "L0")
install.packages("progress")
pb <- progress::progress_bar$new(
format = 'Downloading [:bar] :percent eta: :eta',
total = N, clear = FALSE, width = 80
)
for(i in 1:N){
pb$tick()
Sys.sleep(0.05)
}
pb <- progress::progress_bar$new(
format = 'Downloading [:bar] :percent eta: :eta',
total = 10, clear = FALSE, width = 80
)
for(i in 1:10){
pb$tick()
Sys.sleep(0.05)
}
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
weightList <- inferCSN(exampleDataMatrix, verbose = F)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = F)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
?message
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
install.packages("tcltk")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
install.packages("dplyr")
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
??makeSOCKcluster
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
?txtProgressBar
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
rm(weightList)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
rm(weightList)
rm(weightList)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
devtools::check()
install.packages("i386")
install.packages(c("broom", "cli", "commonmark", "FNN", "future", "ggfortify", "ggnetwork", "gtable", "htmltools", "htmlwidgets", "L0Learn", "openssl", "parallelly", "pillar", "precrec", "ps", "renv", "spatstat.data", "spatstat.explore", "spatstat.geom", "spatstat.random", "spatstat.sparse", "spatstat.utils", "terra", "testthat", "xfun"))
install.packages(c("boot", "class", "cluster", "codetools", "foreign", "MASS", "Matrix", "mgcv", "nlme", "nnet", "rpart", "spatial", "survival"), lib="C:/Users/MSI/AppData/Local/R/cache/R/renv/sandbox/R-4.1/x86_64-w64-mingw32/4710b814")
devtools::document()
devtools::check()
library(dplyr)
detach("package:dplyr", unload = TRUE)
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 1)
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::document()
devtools::document()
weightList <- inferCSN(exampleDataMatrix, verbose = TRUE,cores = 2)
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
auc <- auc.calculate(weightList, exampleDataGroundTruth)
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
devtools::document()
devtools::document()
devtools::document()
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
devtools::document()
devtools::document()
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
library(inferCSN)
weightList <- inferCSN(exampleDataMatrix, cores = 2)
auc <- auc.calculate(weightList, exampleDataGroundTruth)
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
devtools::document()
library(inferCSN)
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
rlang::last_trace()
rlang::last_trace(drop = FALSE)
devtools::document()
library(inferCSN)
auc <- auc.calculate(weightList, exampleDataGroundTruth,plot = T)
usethis::use_package("gam")
usethis::use_package("gam")
ksmooth
devtools::document()
devtools::document()
pkgload::dev_help('gam.fit')
library(inferCSN)
data("exampleDataMatrix")
matrix=exampleDataMatrix
View(exampleDataMatrix)
matrix=t(exampleDataMatrix)
matedata=data.frame(cells=colnames(matrix),pseudotime=matrix[1,])
matrix=matrix(t(exampleDataMatrix))
View(matrix)
View(exampleDataMatrix)
matrix=as.matrix(t(exampleDataMatrix))
matrix=as.data.frame(t(exampleDataMatrix))
View(matrix)
matedata=data.frame(cells=colnames(matrix),pseudotime=matrix[1,])
matedata=data.frame(cells=colnames(matrix),pseudotime=matrix[1,])
matrix[1,]
View(matedata)
matedata=data.frame("cells"=colnames(matrix),"pseudotime"=matrix[1,])
matedata=data.frame(cells=colnames(matrix),pseudotime=matrix["g1",])
pseudotime=matrix[1,]
View(pseudotime)
matedata=data.frame(cells=colnames(matrix),pseudotime=t(matrix[1,]))
matedata=data.frame("cells"=colnames(matrix),"pseudotime"=t(matrix[1,]))
View(matedata)
colnames(matedata) <- c("cells","pseudotime")
dynamic.genes(matrix,matedata)
test <- dynamic.genes(matrix,matedata)
View(test)
test[["cells"]][["pseudotime"]]
max(test[["cells"]][["pseudotime"]])
max(matedata$pseudotime)
test <- dynamic.genes(matrix,matedata)
install.packages("Rcpp")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::use_rcpp()
devtools::document()
pkgload::dev_help('dynamic.genes')
install.packages("pkgdown")
usethis::use_pkgdown()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown()
pkgdown::build_site()
usethis::use_pkgdown()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown()
pkgdown::build_site()
usethis::use_pkgdown()
usethis::use_pkgdown()
pkgdown::build_site()
usethis::use_pkgdown()
pkgdown::preview_page('reference/net.format.html')
usethis::use_pkgdown_github_pages()
